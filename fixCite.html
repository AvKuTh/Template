<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: module fixCite</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong>fixCite</strong></big></big></font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href=".">index</a><br><a href="file:/Users/akthakur/Documents/InHouse/latexDocuments/template/fixCite.py">/Users/akthakur/Documents/InHouse/latexDocuments/template/fixCite.py</a></font></td></tr></table>
    <p><tt>&nbsp;In&nbsp;this&nbsp;program&nbsp;we&nbsp;will&nbsp;fix&nbsp;the&nbsp;citations&nbsp;to&nbsp;latex&nbsp;format!&nbsp;<br>
&nbsp;<br>
First&nbsp;all&nbsp;the&nbsp;.tex&nbsp;files&nbsp;in&nbsp;the&nbsp;current&nbsp;directories&nbsp;(and&nbsp;sub-directories)&nbsp;are&nbsp;searched.&nbsp;They&nbsp;are&nbsp;copied&nbsp;into&nbsp;a&nbsp;backup&nbsp;folder&nbsp;that&nbsp;is&nbsp;provided&nbsp;to&nbsp;this&nbsp;program.&nbsp;The&nbsp;program&nbsp;reads&nbsp;every&nbsp;file&nbsp;from&nbsp;the&nbsp;backup&nbsp;folder&nbsp;and&nbsp;writes&nbsp;the&nbsp;modified&nbsp;lines&nbsp;into&nbsp;the&nbsp;corresponding&nbsp;original&nbsp;file.&nbsp;As&nbsp;the&nbsp;original&nbsp;file&nbsp;is&nbsp;opened&nbsp;in&nbsp;write&nbsp;mode,&nbsp;first&nbsp;all&nbsp;contents&nbsp;are&nbsp;deleted.&nbsp;If&nbsp;a&nbsp;line&nbsp;does&nbsp;not&nbsp;match&nbsp;our&nbsp;regular&nbsp;expression&nbsp;search&nbsp;for&nbsp;a&nbsp;pattern,&nbsp;then&nbsp;it&nbsp;is&nbsp;written&nbsp;in&nbsp;situ.&nbsp;If&nbsp;the&nbsp;regular&nbsp;expression&nbsp;matches&nbsp;then&nbsp;the&nbsp;line&nbsp;is&nbsp;modified&nbsp;to&nbsp;be&nbsp;latex&nbsp;compatible&nbsp;and&nbsp;written&nbsp;to&nbsp;the&nbsp;original&nbsp;file&nbsp;where&nbsp;the&nbsp;url&nbsp;link&nbsp;is&nbsp;replaced&nbsp;with&nbsp;a&nbsp;name.&nbsp;<br>
&nbsp;<br>
The&nbsp;regular&nbsp;expression&nbsp;search&nbsp;is&nbsp;for&nbsp;the&nbsp;pattern&nbsp;:&nbsp;..~\cite{url:http...}{url:http...}...&nbsp;...&nbsp;It&nbsp;is&nbsp;replaced&nbsp;with&nbsp;..~\cite{name1,name2,..}...&nbsp;...<br>
&nbsp;<br>
The&nbsp;citation&nbsp;name&nbsp;is&nbsp;asked&nbsp;for&nbsp;or&nbsp;auto-generated.&nbsp;The&nbsp;name&nbsp;is&nbsp;addedto&nbsp;the&nbsp;ref&nbsp;file&nbsp;that&nbsp;is&nbsp;provided&nbsp;to&nbsp;this&nbsp;program.&nbsp;After&nbsp;the&nbsp;processing&nbsp;is&nbsp;complete,&nbsp;the&nbsp;original&nbsp;tex&nbsp;files,&nbsp;with&nbsp;their&nbsp;directory&nbsp;structures&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;backup&nbsp;folder.&nbsp;The&nbsp;ref&nbsp;file&nbsp;is&nbsp;copied&nbsp;into&nbsp;the&nbsp;backup&nbsp;folder&nbsp;(without&nbsp;the&nbsp;directory&nbsp;structure).&nbsp;It&nbsp;is&nbsp;not&nbsp;accepted&nbsp;that&nbsp;ref&nbsp;file&nbsp;be&nbsp;named&nbsp;.tex&nbsp;so&nbsp;that&nbsp;there&nbsp;is&nbsp;no&nbsp;conflict&nbsp;in&nbsp;the&nbsp;backup&nbsp;folder.&nbsp;<br>
&nbsp;<br>
To&nbsp;revert&nbsp;the&nbsp;changes,&nbsp;one&nbsp;needs&nbsp;to&nbsp;manually&nbsp;trash&nbsp;the&nbsp;tex&nbsp;files&nbsp;and&nbsp;copy&nbsp;back&nbsp;from&nbsp;the&nbsp;backup&nbsp;folder.&nbsp;<br>
&nbsp;<br>
The&nbsp;files&nbsp;in&nbsp;the&nbsp;.ignorefixCite&nbsp;file&nbsp;are&nbsp;also&nbsp;considered.&nbsp;They&nbsp;are<br>
matched&nbsp;using&nbsp;regex&nbsp;package&nbsp;of&nbsp;python.&nbsp;So&nbsp;please&nbsp;be&nbsp;careful&nbsp;with&nbsp;the&nbsp;entries.&nbsp;Please&nbsp;read&nbsp;the&nbsp;module&nbsp;documentation&nbsp;of&nbsp;fileInIgnoreList()&nbsp;method.</tt></p>
<p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#aa55cc">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Modules</strong></big></font></td></tr>
    
<tr><td bgcolor="#aa55cc"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><table width="100%" summary="list"><tr><td width="25%" valign=top><a href="argparse.html">argparse</a><br>
<a href="inspect.html">inspect</a><br>
<a href="json.html">json</a><br>
</td><td width="25%" valign=top><a href="logging.html">logging</a><br>
<a href="magic.html">magic</a><br>
<a href="os.html">os</a><br>
</td><td width="25%" valign=top><a href="pdb.html">pdb</a><br>
<a href="random.html">random</a><br>
<a href="regex.html">regex</a><br>
</td><td width="25%" valign=top><a href="shutil.html">shutil</a><br>
<a href="sys.html">sys</a><br>
</td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ee77aa">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Classes</strong></big></font></td></tr>
    
<tr><td bgcolor="#ee77aa"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl>
<dt><font face="helvetica, arial"><a href="builtins.html#object">builtins.object</a>
</font></dt><dd>
<dl>
<dt><font face="helvetica, arial"><a href="fixCite.html#fixCite">fixCite</a>
</font></dt></dl>
</dd>
</dl>
 <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="fixCite">class <strong>fixCite</strong></a>(<a href="builtins.html#object">builtins.object</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt>This&nbsp;is&nbsp;the&nbsp;class&nbsp;that&nbsp;defines&nbsp;the&nbsp;variables&nbsp;and&nbsp;methods&nbsp;to&nbsp;fox&nbsp;the&nbsp;citations.<br>
It&nbsp;gets&nbsp;the&nbsp;&nbsp;command&nbsp;line&nbsp;arguments&nbsp;&nbsp;through&nbsp;argparse&nbsp;package.&nbsp;The&nbsp;arguments&nbsp;must&nbsp;be&nbsp;passed&nbsp;to&nbsp;the&nbsp;<a href="#fixCite">fixCite</a>&nbsp;class&nbsp;and&nbsp;let&nbsp;it&nbsp;operate.&nbsp;The&nbsp;arguments&nbsp;referenceFile,&nbsp;logConfigFile&nbsp;and&nbsp;backupFolder&nbsp;are&nbsp;mandatory&nbsp;and&nbsp;must&nbsp;be&nbsp;ordered&nbsp;in&nbsp;that&nbsp;order.&nbsp;Details&nbsp;can&nbsp;be&nbsp;seeing&nbsp;using&nbsp;--help&nbsp;option&nbsp;(i.e.&nbsp;python&nbsp;<a href="#fixCite">fixCite</a>.py&nbsp;--help).<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="fixCite-__init__"><strong>__init__</strong></a>(self, refFile, logConfigFile, backupFolder, revert, backup2)</dt><dd><tt>This&nbsp;is&nbsp;the&nbsp;initialization&nbsp;method&nbsp;that&nbsp;initializes&nbsp;the&nbsp;state&nbsp;variables&nbsp;and&nbsp;makes&nbsp;some&nbsp;basic&nbsp;checks.</tt></dd></dl>

<dl><dt><a name="fixCite-appendToRefFile"><strong>appendToRefFile</strong></a>(self, url, name)</dt><dd><tt>Given&nbsp;a&nbsp;URL&nbsp;and&nbsp;a&nbsp;name,&nbsp;it&nbsp;adds&nbsp;the&nbsp;URL&nbsp;with&nbsp;its&nbsp;corresponding&nbsp;name&nbsp;to&nbsp;the&nbsp;ref&nbsp;file.&nbsp;It&nbsp;uses&nbsp;the&nbsp;@online&nbsp;tag.</tt></dd></dl>

<dl><dt><a name="fixCite-fileInIgnoreList"><strong>fileInIgnoreList</strong></a>(self, ignoreList, file)</dt><dd><tt>The&nbsp;regular&nbsp;expression&nbsp;match&nbsp;for&nbsp;each&nbsp;entry&nbsp;in<br>
.ignorefixCite&nbsp;file.&nbsp;For&nbsp;each&nbsp;entry,&nbsp;newline&nbsp;is&nbsp;removed&nbsp;from<br>
end.&nbsp;Then&nbsp;the&nbsp;regex&nbsp;is&nbsp;matched&nbsp;against&nbsp;the&nbsp;file.&nbsp;If&nbsp;failed&nbsp;the&nbsp;regex&nbsp;is<br>
matched&nbsp;against&nbsp;the&nbsp;file's&nbsp;basename.&nbsp;If&nbsp;there&nbsp;is&nbsp;no&nbsp;match,<br>
the&nbsp;file&nbsp;is&nbsp;not&nbsp;ignored.&nbsp;If&nbsp;there&nbsp;is&nbsp;a&nbsp;match,&nbsp;the&nbsp;file&nbsp;is&nbsp;ignored.</tt></dd></dl>

<dl><dt><a name="fixCite-generateNameFrmUrl"><strong>generateNameFrmUrl</strong></a>(self, url)</dt><dd><tt>This&nbsp;method&nbsp;generates&nbsp;a&nbsp;name&nbsp;for&nbsp;the&nbsp;given&nbsp;URL.&nbsp;It&nbsp;randomly&nbsp;selects&nbsp;some&nbsp;words&nbsp;from&nbsp;the&nbsp;URL&nbsp;and&nbsp;then&nbsp;for&nbsp;each&nbsp;word,&nbsp;randomly&nbsp;selects&nbsp;some&nbsp;letters,&nbsp;combinin&nbsp;gthem&nbsp;all&nbsp;to&nbsp;generate&nbsp;a&nbsp;name.&nbsp;It&nbsp;returns&nbsp;the&nbsp;name</tt></dd></dl>

<dl><dt><a name="fixCite-getBackupFile"><strong>getBackupFile</strong></a>(self, file, backupFolder)</dt><dd><tt>This&nbsp;method&nbsp;just&nbsp;returns&nbsp;the&nbsp;backup&nbsp;file&nbsp;name&nbsp;(with&nbsp;path)&nbsp;as&nbsp;it&nbsp;should&nbsp;be&nbsp;within&nbsp;the&nbsp;backup&nbsp;folder.&nbsp;It&nbsp;includes&nbsp;the&nbsp;directory&nbsp;structure&nbsp;of&nbsp;the&nbsp;file&nbsp;within&nbsp;the&nbsp;backup&nbsp;folder.&nbsp;However&nbsp;at&nbsp;this&nbsp;point&nbsp;it&nbsp;does&nbsp;not&nbsp;check&nbsp;if&nbsp;the&nbsp;file&nbsp;exists&nbsp;in&nbsp;the&nbsp;backup&nbsp;folder.</tt></dd></dl>

<dl><dt><a name="fixCite-getFiles"><strong>getFiles</strong></a>(self, excludeBackup, backupFolder)</dt><dd><tt>This&nbsp;method&nbsp;searches&nbsp;the&nbsp;current&nbsp;directory&nbsp;and&nbsp;its&nbsp;sub-directories&nbsp;for&nbsp;.tex&nbsp;files&nbsp;that&nbsp;match&nbsp;mime/tex&nbsp;or&nbsp;mime/plain.&nbsp;It&nbsp;returns&nbsp;a&nbsp;list&nbsp;of&nbsp;such&nbsp;files.&nbsp;It&nbsp;also&nbsp;removes&nbsp;'./',&nbsp;if&nbsp;any,&nbsp;from&nbsp;the&nbsp;beginning&nbsp;of&nbsp;the&nbsp;filenames.&nbsp;This&nbsp;is&nbsp;so&nbsp;that&nbsp;the&nbsp;directory&nbsp;structure&nbsp;can&nbsp;be&nbsp;recreated&nbsp;in&nbsp;the&nbsp;backup&nbsp;folder.&nbsp;There&nbsp;is&nbsp;also&nbsp;an&nbsp;option&nbsp;to&nbsp;excluse&nbsp;backup&nbsp;folder.&nbsp;However&nbsp;it&nbsp;is&nbsp;only&nbsp;useful&nbsp;for&nbsp;reverting</tt></dd></dl>

<dl><dt><a name="fixCite-getIgnoreList"><strong>getIgnoreList</strong></a>(self)</dt><dd><tt>This&nbsp;function&nbsp;reads&nbsp;filenames&nbsp;from&nbsp;'.fixCiteIgnore'&nbsp;and&nbsp;ignores&nbsp;them.<br>
Even&nbsp;if&nbsp;they&nbsp;are&nbsp;not&nbsp;tex,&nbsp;some&nbsp;files&nbsp;must&nbsp;be&nbsp;included&nbsp;so&nbsp;as&nbsp;to&nbsp;speed&nbsp;up&nbsp;the&nbsp;program.</tt></dd></dl>

<dl><dt><a name="fixCite-getNamesUrlsFrmRef"><strong>getNamesUrlsFrmRef</strong></a>(self)</dt><dd><tt>This&nbsp;method&nbsp;gets&nbsp;all&nbsp;the&nbsp;names&nbsp;from&nbsp;the&nbsp;ref&nbsp;files.&nbsp;It&nbsp;uses&nbsp;regular&nbsp;expression&nbsp;to&nbsp;determine&nbsp;the&nbsp;names.&nbsp;It&nbsp;requires&nbsp;that&nbsp;the&nbsp;ref&nbsp;file&nbsp;have&nbsp;entries&nbsp;in&nbsp;latex&nbsp;bib&nbsp;format.</tt></dd></dl>

<dl><dt><a name="fixCite-nameUrl"><strong>nameUrl</strong></a>(self, url)</dt><dd><tt>For&nbsp;every&nbsp;given&nbsp;URL,&nbsp;this&nbsp;method&nbsp;asks&nbsp;the&nbsp;user&nbsp;to&nbsp;input&nbsp;a&nbsp;word&nbsp;name&nbsp;or&nbsp;to&nbsp;select&nbsp;auto-generated&nbsp;name.&nbsp;It&nbsp;checks&nbsp;whether&nbsp;the&nbsp;name&nbsp;exists&nbsp;in&nbsp;the&nbsp;ref&nbsp;file&nbsp;already.&nbsp;If&nbsp;not&nbsp;then&nbsp;it&nbsp;adds&nbsp;the&nbsp;name&nbsp;to&nbsp;the&nbsp;ref&nbsp;file&nbsp;and&nbsp;&nbsp;returns&nbsp;the&nbsp;name.</tt></dd></dl>

<dl><dt><a name="fixCite-revertBackup"><strong>revertBackup</strong></a>(self, backupFolder, backup2, logConfigFile)</dt><dd><tt>This&nbsp;method&nbsp;gets&nbsp;files&nbsp;from&nbsp;CWD,&nbsp;backs&nbsp;them&nbsp;into&nbsp;sec.&nbsp;backup&nbsp;folder&nbsp;and&nbsp;then&nbsp;initiates&nbsp;the&nbsp;restoration</tt></dd></dl>

<dl><dt><a name="fixCite-revertSwap"><strong>revertSwap</strong></a>(self, files, backupFolder, logConfigFile)</dt><dd><tt>This&nbsp;method&nbsp;trashes&nbsp;the&nbsp;files&nbsp;from&nbsp;the&nbsp;CWD&nbsp;and&nbsp;restores&nbsp;all&nbsp;from&nbsp;the&nbsp;primary&nbsp;backup&nbsp;folder</tt></dd></dl>

<dl><dt><a name="fixCite-swapFiles"><strong>swapFiles</strong></a>(self, files, backupFolder)</dt><dd><tt>This&nbsp;method&nbsp;accepts&nbsp;the&nbsp;list&nbsp;of&nbsp;files&nbsp;in&nbsp;the&nbsp;current&nbsp;directory,&nbsp;with&nbsp;their&nbsp;paths&nbsp;relative&nbsp;to&nbsp;CWD.&nbsp;It&nbsp;copies&nbsp;the&nbsp;ref&nbsp;file&nbsp;into&nbsp;the&nbsp;backup&nbsp;folder&nbsp;first.&nbsp;Then&nbsp;for&nbsp;every&nbsp;file&nbsp;in&nbsp;the&nbsp;given&nbsp;files&nbsp;list,&nbsp;it&nbsp;copies&nbsp;the&nbsp;directory&nbsp;structure&nbsp;and&nbsp;the&nbsp;file&nbsp;into&nbsp;the&nbsp;backup&nbsp;folder.</tt></dd></dl>

<dl><dt><a name="fixCite-transformAndAdd"><strong>transformAndAdd</strong></a>(self, line)</dt><dd><tt>This&nbsp;method&nbsp;runs&nbsp;the&nbsp;regular&nbsp;expression&nbsp;check&nbsp;for&nbsp;the&nbsp;given&nbsp;line.&nbsp;If&nbsp;it&nbsp;doesnt&nbsp;match,&nbsp;it&nbsp;returns&nbsp;the&nbsp;original&nbsp;line.&nbsp;Otherwise&nbsp;it&nbsp;transforms&nbsp;it&nbsp;into&nbsp;the&nbsp;desirable&nbsp;format&nbsp;and&nbsp;returns&nbsp;the&nbsp;newline.</tt></dd></dl>

<dl><dt><a name="fixCite-type_match"><strong>type_match</strong></a>(self, file)</dt><dd><tt>This&nbsp;method&nbsp;checks&nbsp;if&nbsp;the&nbsp;given&nbsp;file&nbsp;has&nbsp;.tex&nbsp;extension&nbsp;and&nbsp;if&nbsp;its&nbsp;of&nbsp;either&nbsp;mime/tex&nbsp;or&nbsp;mime/plain&nbsp;type.</tt></dd></dl>

<dl><dt><a name="fixCite-updateCite"><strong>updateCite</strong></a>(self, file, backupFile)</dt><dd><tt>This&nbsp;is&nbsp;the&nbsp;top&nbsp;level&nbsp;method&nbsp;to&nbsp;modify&nbsp;the&nbsp;file.&nbsp;It&nbsp;opens&nbsp;and&nbsp;reads&nbsp;every&nbsp;line&nbsp;from&nbsp;the&nbsp;files&nbsp;in&nbsp;the&nbsp;backup&nbsp;location.&nbsp;Then&nbsp;it&nbsp;calls&nbsp;on&nbsp;transformAndAdd&nbsp;method&nbsp;to&nbsp;get&nbsp;modified&nbsp;lines.&nbsp;It&nbsp;then&nbsp;writes&nbsp;it&nbsp;into&nbsp;the&nbsp;original&nbsp;file.&nbsp;The&nbsp;file&nbsp;argument&nbsp;to&nbsp;this&nbsp;method&nbsp;must&nbsp;be&nbsp;the&nbsp;original&nbsp;file&nbsp;and&nbsp;the&nbsp;backupFile&nbsp;argument&nbsp;must&nbsp;be&nbsp;the&nbsp;corresponding&nbsp;file&nbsp;in&nbsp;the&nbsp;backup&nbsp;folder.</tt></dd></dl>

<hr>
Data descriptors defined here:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><tt>dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><tt>list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
</td></tr></table></td></tr></table>
</body></html>